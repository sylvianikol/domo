<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>

<body>
<main>
    <h1 th:text="${pageTitle}"></h1>
    <p th:text="|${children.size()} children live in Apartment No.${apartmentNumber}, ${buildingName} |"></p>
    <hr/>
    <h2 th:text="${pageH2Title}"></h2>
    <form th:action="@{/buildings/{buildingId}/apartments/{apartmentId}/children/(buildingId=${buildingId}, apartmentId=${apartmentId})}" th:method="post">
        <label for="firstName">
            <input name="firstName" type="text" id="firstName" placeholder="Enter first name">
        </label>

        <label for="lastName">
            <input name="lastName" type="text" id="lastName" placeholder="Enter last name">
        </label>

        <label for="apartment">
            <input name="apartment" type="hidden" id="apartment" th:value="${apartmentId}">
        </label>

        <button type="submit">Add Child</button>

    </form>

    <th:block th:if="${hasChildren}" th:object="${children}">
        <hr/>
        <h3 th:text="${pageH3Title}"></h3>
        <ul>
            <li th:each="c : ${children}">
                <a th:href="@{/buildings/{buildingId}/apartments/{apartmentId}/children/{childId}(buildingId=${buildingId}, apartmentId=${apartmentId}, childId=${c.getId()})}" th:text="${c.toString()}"></a>
            </li>
        </ul>
    </th:block>
</main>
<hr/>
<footer>
    <th:block th:include="~{/fragments/footer}"></th:block>
</footer>
</body>

</html>